# 北林2025计网课设task-1

程序的核心功能是将客户端发送的消息按随机长度分段，服务器接收后反转每段数据并返回给客户端，最终客户端将所有反转后的片段重新组合成完整的反转消息。

## 环境要求
- Python 3.6+
- 无需额外第三方库

## 使用方法

### 1. 准备消息文件
在客户端所在目录创建`message.txt`文件，包含要发送的文本内容。

### 2. 启动服务器python reversetcpserver.py服务器默认监听本地IP的8080端口，可在代码中修改`serverIP`和`serverPort`变量。

### 3. 启动客户端python reversetcpclient.py客户端启动后会提示输入：
- 服务端IP地址
- 服务端端口号
- 数据传输的最小长度（字节）
- 数据传输的最大长度（字节）

### 4. 查看结果
客户端处理完成后，会在当前目录生成`messageReturn.txt`文件，包含反转后的完整消息。

### 消息格式
所有消息采用以下结构：[2字节类型标识][4字节长度字段][数据内容]
### 消息类型
- `b'00'`：客户端发送的初始化消息，携带数据段总数N
- `b'01'`：服务器返回的确认消息
- `b'10'`：客户端发送的数据段消息
- `b'11'`：服务器返回的反转数据消息

## 代码结构
- `reversetcpclient.py`：客户端程序，负责读取文件、分段发送、接收反转数据并重组
- `reversetcpserver.py`：服务器程序，负责监听连接、处理数据段反转并返回

## 示例运行
假设`message.txt`内容为：Hello, World!客户端设置最小长度为3，最大长度为6，最终`messageReturn.txt`内容将是：!dlroW ,olleH    